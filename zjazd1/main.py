import math
from timeit import default_timer as timer


def f1(n):
    s = 0
    for j in range(1, n):
        s = s + 1 / j
    return s


def f2(n):
    s = 0
    k = 2
    while k <= n:
        s = s + 1 / k
        k = k * 2
    return s


def f3(n):
    s = 0
    for j in range(1, n):
        for k in range(1, j):
            s = s + k / j
    return s


def f4(n):
    s = 0
    for j in range(1, n):
        k = 2
        while k <= n:
            s = s + k / j
            k = k * 2
    return s


def f5(n):
    s = 0
    for j in range(1, n):
        for k in range(1, n):
            s = s + k / j
    return s


nn = [2000, 2000, 4000, 4000, 8000, 16000, 32000]

# f1
# for n in nn:
#     start = timer()
#     f1(n)
#     stop = timer()
#     Tn = stop - start
#     Fn = n
#     print(n, Tn, Fn, Fn / Tn)
#
# 2000 6.17500045336783e-05 2000 32388661.58963932
# 2000 5.975001840852201e-05 2000 33472793.034566574
# 4000 0.00014379198546521366 4000 27817962.086403523
# 4000 0.00012141600018367171 4000 32944587.154485498
# 8000 0.0002757919719442725 8000 29007370.822296843
# 16000 0.0004895419988315552 16000 32683610.473031923
# 32000 0.0009755840001162142 32000 32800865.938953564

# inne funkcje czasu:

f2
for n in nn:
    start = timer()
    f2(n)
    stop = timer()
    Tn = stop - start
    Fn = math.log(n,2)
    print(n, Tn, Fn, Fn / Tn)

# 2000 2.4999899324029684e-06 10.965784284662087 4386331.377791538
# 2000 2.1249870769679546e-06 10.965784284662087 5160400.457732974
# 4000 9.170034900307655e-07 11.965784284662087 13048788.161384897
# 4000 5.830079317092896e-07 11.965784284662087 20524222.114063267
# 8000 6.250047590583563e-07 12.965784284662087 20745096.89205659
# 16000 6.660120561718941e-07 13.965784284662087 20969266.47985122
# 32000 6.659829523414373e-07 14.965784284662087 22471722.78516433

# f3
# for n in nn:
#     start = timer()
#     f3(n)
#     stop = timer()
#     Tn = stop - start
#     Fn = n
#     print(n, Tn, Fn, Fn / Tn)

# 2000 0.053447250014869496 2000 37420.07305228206
# 2000 0.04708995801047422 2000 42471.900262793606
# 4000 0.1927516249998007 4000 20752.094826718767
# 4000 0.1948803749983199 4000 20525.41206385961
# 8000 0.785649084020406 8000 10182.663179675028
# 16000 3.175180124992039 16000 5039.084199999556
# 32000 12.70183841700782 32000 2519.320349497743


# f4
# for n in nn:
#     start = timer()
#     f4(n)
#     stop = timer()
#     Tn = stop - start
#     Fn = n*math.log(n,2)
#     print(n, Tn, Fn, Fn / Tn)

# 2000 0.000862167013110593 21931.568569324176 25437726.37530838
# 2000 0.0007849169778637588 21931.568569324176 27941258.99660553
# 4000 0.0018364160205237567 47863.13713864835 26063341.096859686
# 4000 0.0017587920010555536 47863.13713864835 27213642.721778866
# 8000 0.003872500004945323 103726.2742772967 26785351.61906636
# 16000 0.007950750004965812 223452.5485545934 28104587.418172035
# 32000 0.01582937501370907 478905.0971091868 30254201.23627306

# f5
# for n in nn:
#     start = timer()
#     f4(n)
#     stop = timer()
#     Tn = stop - start
#     Fn = n*n
#     print(n, Tn, Fn, Fn / Tn)

# 2000 0.0008419170044362545 4000000 4751062134.299556
# 2000 0.0008387500129174441 4000000 4769001416.866397
# 4000 0.0019287499890197068 16000000 8295528239.060185
# 4000 0.0018786659929901361 16000000 8516681549.408345
# 8000 0.004031333024613559 64000000 15875642029.384312
# 16000 0.008098791004158556 256000000 31609656289.25965
# 32000 0.015928083012113348 1024000000 64288966802.92571

# Fn=math.log(n,2)
# Fn=n
# Fn=100*n
# Fn=n*math.log(n,2)
# Fn=n*n